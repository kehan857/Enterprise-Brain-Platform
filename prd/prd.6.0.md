5.2.7 【重构】智能告警中心 (Intelligent Alert Center)
5.2.7.1 总体需求描述
智能告警中心是平台集中管理和响应由各类【告警Agent】触发事件的统一入口。它通过告警概览提供宏观视图，通过告警列表进行详细追踪和处理，并通过Agent市场让用户发现、启用和管理用于监控的告警智能体。用户在此配置告警通知策略，而复杂的触发逻辑则封装在Agent内部。
5.2.7.2 子菜单一：告警概览 (Alert Overview)
需求描述: 提供一个仪表盘式的界面，帮助用户快速了解当前告警的整体态势和关键信息。
业务流程:
用户进入“智能告警中心”后，默认或通过点击“告警概览”子菜单进入此界面。
界面自动加载并展示实时的或近期的告警统计数据和摘要信息。
用户可通过概览快速识别高优先级问题或告警趋势。
页面原型:
核心指标卡片:
当前活动告警总数（可按高、中、低严重等级分别显示）。
今日新增告警数。
待处理告警数（如状态为“活动”且未被“确认”）。
关键告警列表 (摘要): 显示最新或最重要的几条活动告警（如仅显示严重等级为“高”的告警），包含告警名称/内容摘要、触发时间、严重等级，并提供快速跳转到告警列表详情的链接。
告警趋势图:
按时间（如近24小时、近7天）展示告警数量变化趋势图。
按告警类型或触发Agent统计告警数量的分布图（如饼图或条形图）。
(可选) 告警处理效率指标: 如平均告警响应时间、平均告警解决时间等。
业务规则:
概览数据需根据用户权限范围进行过滤。
数据需支持自动刷新或手动刷新。
图表和卡片应清晰、直观。
5.2.7.3 子菜单二：告警列表 (Alert List)
需求描述: 提供一个详细的、可交互的告警事件列表，用户可以在此查看所有权限范围内的告警，并进行筛选、排序和处理操作。
业务流程:
用户点击“告警列表”子菜单进入此界面。
系统加载并显示用户权限范围内的告警记录列表。
用户使用筛选条件（如时间范围、严重等级、处理状态、告警类型、触发Agent名称、推送渠道、推送用户/群组）和排序功能定位特定告警。
用户点击某条告警，查看其详细信息（可在弹窗或侧边栏/新页面展示）。
用户在列表或详情视图中执行处理操作：确认/Acknowledge、解决/Resolve、忽略/Ignore、指派/Assign、添加备注等。
页面原型:
筛选与排序控件: 提供下拉菜单、日期选择器、搜索框等控件用于组合查询。
告警数据表格:
列展示: 必须包含：告警ID/序列号、告警内容摘要、严重等级、触发时间、处理状态、触发Agent名称、推送渠道、推送用户/群组、最新处理人、最新处理时间等关键信息。
行操作: 每行提供“查看详情”、“处理”等快捷操作按钮。
告警详情视图 (弹窗/侧边栏/新页面):
展示告警的完整信息：详细描述、触发规则快照（如当时的指标值）、关联对象（如设备编号）、告警产生时间、处理历史记录（谁在何时做了什么操作）。
提供所有可用的处理操作按钮和备注输入区。
业务规则:
列表数据需分页加载，以应对大量告警数据。
筛选和排序功能需响应灵敏。
列表必须包含“推送渠道”和“推送用户/群组”字段。
告警应有明确的生命周期状态，并记录状态变更历史。
用户只能查看和操作其权限范围内的告警。
5.2.7.4 子菜单三：Agent市场 (Agent Market)
需求描述: 提供一个发现、启用和管理【告警Agent】实例的场所。用户在此浏览平台提供的告警Agent，选择需要的Agent启用，并在启用成功后配置其通知策略。用户也在此管理自己已启用的Agent实例。
业务流程:
用户点击“Agent市场”子菜单进入此界面。
浏览与发现Agent:
a. 界面以卡片或列表形式展示可用的【告警Agent】库。
b. 提供搜索框、按分类（如：生产效率类、设备状态类、质量控制类、安全合规类）或标签筛选功能。
c. 每个Agent卡片展示：名称、清晰的功能描述、适用场景、大致需要的核心数据类型（如需要MES工单数据、需要设备运行参数）。
启用与配置Agent实例:
a. 用户选择一个感兴趣的Agent，点击“查看详情”或“启用”。
b. （可选）Agent详情页可能提供更详细的说明、所需数据项列表、触发逻辑简述等。
c. 用户点击“启用”按钮。
d. 系统执行依赖检查并反馈： (同 5.2.7.2 Step 5.d, 5.e - 启动动效、实时检测数据接入和基础参数、成功或失败的明确反馈和指引)。
e. 配置通知策略 (仅在启动成功后): (同 5.2.7.2 Step 5.f - 配置告警频率/抑制规则、通知渠道、通知接收人/群组)。
f. 用户保存通知配置，一个该Agent的【实例】被创建并激活。
管理已启用的Agent实例:
a. 在“Agent市场”内提供一个“我的已启用Agent”的标签页或区域。
b. 列表展示用户已启用/创建的所有告警Agent实例：实例名称（可自定义）、Agent类型、当前状态（启用/禁用）、通知配置摘要。
c. 提供操作：编辑通知策略、启用/禁用实例、移除实例（删除该配置，不再接收此Agent的告警）。
页面原型:
Agent库浏览区: 卡片式或列表式布局，包含搜索、分类筛选。Agent卡片需包含关键信息和“启用”按钮。
Agent详情页 (可选): 更详细的Agent信息展示。
启用流程界面: 包含“启用”按钮、启动动效与状态反馈区域（成功/失败提示）、通知配置表单（仅在成功后可编辑）。
“我的已启用Agent”管理列表: 表格形式展示实例信息和操作按钮（编辑通知、启/禁用、移除）。
业务规则:
Agent为核心: 告警逻辑封装在Agent内，市场提供选用和管理入口。
激活前置检查: 启用Agent时必须执行依赖检查并提供清晰反馈。
简化用户配置: 用户主要配置通知策略。
实例管理: 用户管理的是Agent的“实例”，即自己启用并配置后的版本。
平台可预置丰富的告警Agent模板，覆盖常见行业场景。
用户是否有权浏览和启用某个Agent，以及是否有权管理实例，受RBAC权限控制。
5.2.7.5 通用业务规则 (适用于整个智能告警中心)
权限控制: 用户对告警概览、告警列表的查看范围，以及在Agent市场中可浏览、启用、管理的Agent，均受【用户与权限管理中心】(5.5.4)定义的角色和权限控制。
通知集成: 告警通知的发送依赖于与企业通讯工具的集成配置。
避免重复告警: 系统或Agent本身应具备机制（如抑制规则、告警收敛）防止告警风暴。
与Agent开发平台的关系: Agent市场中的Agent是由后台（如AI工程师）在【Agent开发平台】(5.4.3)中开发、定义其触发逻辑和所需数据后，发布到市场供用户选用的。
Agent市场 部分如下：
5.2.8.3 子菜单二：Agent市场 (Agent Market)
需求描述: 提供一个发现、启用和管理【预测Agent】实例的场所。用户在此浏览平台提供的、按核心业务板块（经营、营销、生产、质控、研发、财务、人事）分类的预测Agent，选择需要的Agent启用，并在启用成功后配置其预测任务参数以及关联的预测报告生成与推送策略。用户也在此管理自己已启用的预测任务实例。
业务流程:
用户点击“Agent市场”子菜单进入此界面。
浏览与发现Agent:
a. 界面以卡片或列表形式展示可用的【预测Agent】库。
b. 提供搜索框以及按核心业务板块进行分类筛选的功能。分类明确包含：
* 经营 (Operations/Management):
* 示例Agent: 企业综合风险预测Agent、关键战略目标达成概率预测Agent、管理驾驶舱KPI预测Agent。
* 示例报告类型: 经营风险预警报告、目标达成可能性分析报告、未来KPI趋势预测报告。
* 营销 (Marketing):
* 示例Agent: 客户流失预警Agent、销售额预测Agent (按区域/产品线)、营销活动ROI预测Agent、潜在客户(Leads)转化率预测Agent。
* 示例报告类型: 高流失风险客户清单及原因分析报告、未来季度销售预测报告、营销活动效果预测报告、Leads转化预测与优化建议报告。
* 生产 (Production):
* 示例Agent: 设备故障预测Agent (预测性维护)、产线产量预测Agent、关键物料消耗预测Agent、订单交付准时率预测Agent、能耗预测Agent。
* 示例报告类型: 未来7天高故障风险设备清单及维护建议报告、下周各产线产量预测报告、物料需求预测及补货建议报告、订单延期风险预警报告、生产能耗趋势预测报告。
* 质控 (Quality Control):
* 示例Agent: 产品不良率预测Agent、关键工序质量稳定性预测Agent、供应商来料合格率预测Agent、客户投诉/退货风险预测Agent。
* 示例报告类型: 未来批次产品不良率预测报告、重点工序质量波动预警报告、高风险供应商来料预警报告、客户质量问题预测报告。
* 研发 (R&D):
* 示例Agent: 新产品研发周期预测Agent、项目里程碑延期风险预测Agent、研发成本超支预测Agent。
* 示例报告类型: 新产品上市时间预测报告、项目风险预警报告、研发项目成本预测分析报告。
* 财务 (Finance):
* 示例Agent: 现金流预测Agent、应收账款逾期风险预测Agent、销售收入预测Agent (财务口径)、成本中心费用预测Agent。
* 示例报告类型: 未来30/60/90天现金流预测报告、高风险逾期应收账款清单、公司/部门收入预测报告、部门费用超支预警报告。
* 人事 (HR):
* 示例Agent: 核心员工离职风险预测Agent、部门人力需求预测Agent、招聘周期预测Agent。
* 示例报告类型: 高离职风险员工预警报告、未来半年人力缺口预测报告、关键岗位招聘时间预测报告。
c. 每个Agent卡片展示：名称、所属板块、预测目标、所需关键数据类型、输出报告简述。
创建与配置预测任务实例: (同上一个版本描述)
a. 选择Agent并创建实例。
b. 配置预测任务参数。
c. 配置报告生成与推送策略 (频率、渠道、接收人)。
d. 保存配置。
管理已创建的预测任务实例: (同上一个版本描述)
a. 在“我的预测任务”区域管理。
b. 编辑配置、手动触发、查看历史、查看报告、启/禁用、删除实例。
页面原型:
Agent库浏览区:
布局：卡片式或列表式。
筛选/分类: 必须提供按“经营、营销、生产、质控、研发、财务、人事”7大板块进行筛选的控件（如侧边栏分类树或顶部标签页）。
Agent卡片信息需包含所属板块。
预测任务实例配置界面: (同上一个版本描述)
“我的预测任务”管理列表: (同上一个版本描述)
业务规则:
Agent驱动: (同上一个版本描述)
任务实例管理: (同上一个版本描述)
报告推送配置: (同上一个版本描述)
权限控制: (同上一个版本描述)
按板块分类: 平台预置的预测Agent必须清晰地归类到经营、营销、生产、质控、研发、财务、人事这7个核心业务板块之一，方便用户按需查找。
示例仅为参考: 上述列出的Agent和报告类型仅为示例，实际提供的Agent需根据平台能力和目标客户群（如制造业）的具体需求进行设计和开发。
后台关系: (同上一个版本描述)
